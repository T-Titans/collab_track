{"ast":null,"code":"import { api } from './api';\nexport const authAPI = {\n  login: async (email, password) => {\n    const {\n      data\n    } = await api.post('/auth/login', {\n      email,\n      password\n    });\n    return data;\n  },\n  register: async payload => {\n    const {\n      data\n    } = await api.post('/auth/register', payload);\n    return data;\n  },\n  getProfile: async () => {\n    const {\n      data\n    } = await api.get('/auth/me');\n    return data;\n  }\n};\nexport const storeAuthData = (user, token) => {\n  if (user && token) {\n    localStorage.setItem('user', JSON.stringify(user));\n    localStorage.setItem('token', token);\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  }\n};\nexport const clearAuthData = () => {\n  localStorage.removeItem('user');\n  localStorage.removeItem('token');\n  delete api.defaults.headers.common['Authorization'];\n};\nexport const getStoredUser = () => {\n  const raw = localStorage.getItem('user');\n  return raw ? JSON.parse(raw) : null;\n};\nexport const getStoredToken = () => {\n  return localStorage.getItem('token');\n};","map":{"version":3,"names":["api","authAPI","login","email","password","data","post","register","payload","getProfile","get","storeAuthData","user","token","localStorage","setItem","JSON","stringify","defaults","headers","common","clearAuthData","removeItem","getStoredUser","raw","getItem","parse","getStoredToken"],"sources":["C:/Users/USER/Documents/OWETHU_PEYANE/collab_track/frontend/src/lib/auth.ts"],"sourcesContent":["import { api } from './api';\r\n\r\nexport interface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  role: 'admin' | 'project_manager' | 'team_member';\r\n}\r\n\r\ninterface LoginResponse {\r\n  user: User;\r\n  accessToken: string;\r\n  refreshToken?: string;\r\n}\r\n\r\nexport const authAPI = {\r\n  login: async (email: string, password: string): Promise<LoginResponse> => {\r\n    const { data } = await api.post('/auth/login', { email, password });\r\n    return data;\r\n  },\r\n  register: async (payload: { name: string; email: string; password: string; }) => {\r\n    const { data } = await api.post('/auth/register', payload);\r\n    return data;\r\n  },\r\n  getProfile: async () => {\r\n    const { data } = await api.get('/auth/me');\r\n    return data;\r\n  }\r\n};\r\n\r\nexport const storeAuthData = (user: User | null, token: string | null) => {\r\n  if (user && token) {\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    localStorage.setItem('token', token);\r\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  }\r\n};\r\n\r\nexport const clearAuthData = () => {\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('token');\r\n  delete api.defaults.headers.common['Authorization'];\r\n};\r\n\r\nexport const getStoredUser = (): User | null => {\r\n  const raw = localStorage.getItem('user');\r\n  return raw ? JSON.parse(raw) as User : null;\r\n};\r\n\r\nexport const getStoredToken = (): string | null => {\r\n  return localStorage.getItem('token');\r\n};"],"mappings":"AAAA,SAASA,GAAG,QAAQ,OAAO;AAe3B,OAAO,MAAMC,OAAO,GAAG;EACrBC,KAAK,EAAE,MAAAA,CAAOC,KAAa,EAAEC,QAAgB,KAA6B;IACxE,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,aAAa,EAAE;MAAEH,KAAK;MAAEC;IAAS,CAAC,CAAC;IACnE,OAAOC,IAAI;EACb,CAAC;EACDE,QAAQ,EAAE,MAAOC,OAA2D,IAAK;IAC/E,MAAM;MAAEH;IAAK,CAAC,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,gBAAgB,EAAEE,OAAO,CAAC;IAC1D,OAAOH,IAAI;EACb,CAAC;EACDI,UAAU,EAAE,MAAAA,CAAA,KAAY;IACtB,MAAM;MAAEJ;IAAK,CAAC,GAAG,MAAML,GAAG,CAACU,GAAG,CAAC,UAAU,CAAC;IAC1C,OAAOL,IAAI;EACb;AACF,CAAC;AAED,OAAO,MAAMM,aAAa,GAAGA,CAACC,IAAiB,EAAEC,KAAoB,KAAK;EACxE,IAAID,IAAI,IAAIC,KAAK,EAAE;IACjBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC;IAClDE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;IACpCb,GAAG,CAACkB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,UAAUP,KAAK,EAAE;EAClE;AACF,CAAC;AAED,OAAO,MAAMQ,aAAa,GAAGA,CAAA,KAAM;EACjCP,YAAY,CAACQ,UAAU,CAAC,MAAM,CAAC;EAC/BR,YAAY,CAACQ,UAAU,CAAC,OAAO,CAAC;EAChC,OAAOtB,GAAG,CAACkB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC;AACrD,CAAC;AAED,OAAO,MAAMG,aAAa,GAAGA,CAAA,KAAmB;EAC9C,MAAMC,GAAG,GAAGV,YAAY,CAACW,OAAO,CAAC,MAAM,CAAC;EACxC,OAAOD,GAAG,GAAGR,IAAI,CAACU,KAAK,CAACF,GAAG,CAAC,GAAW,IAAI;AAC7C,CAAC;AAED,OAAO,MAAMG,cAAc,GAAGA,CAAA,KAAqB;EACjD,OAAOb,YAAY,CAACW,OAAO,CAAC,OAAO,CAAC;AACtC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}