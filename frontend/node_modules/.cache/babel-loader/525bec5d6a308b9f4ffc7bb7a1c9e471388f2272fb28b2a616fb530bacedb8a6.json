{"ast":null,"code":"import{api}from'./api';export const authAPI={login:async(email,password)=>{const{data}=await api.post('/auth/login',{email,password});return data;},register:async payload=>{const{data}=await api.post('/auth/register',payload);return data;},getProfile:async()=>{const{data}=await api.get('/auth/me');return data;}};export const storeAuthData=(user,token)=>{if(user&&token){localStorage.setItem('user',JSON.stringify(user));localStorage.setItem('token',token);api.defaults.headers.common['Authorization']=\"Bearer \".concat(token);}};export const clearAuthData=()=>{localStorage.removeItem('user');localStorage.removeItem('token');delete api.defaults.headers.common['Authorization'];};export const getStoredUser=()=>{const raw=localStorage.getItem('user');return raw?JSON.parse(raw):null;};export const getStoredToken=()=>{return localStorage.getItem('token');};","map":{"version":3,"names":["api","authAPI","login","email","password","data","post","register","payload","getProfile","get","storeAuthData","user","token","localStorage","setItem","JSON","stringify","defaults","headers","common","concat","clearAuthData","removeItem","getStoredUser","raw","getItem","parse","getStoredToken"],"sources":["C:/Users/USER/Documents/OWETHU_PEYANE/collab_track/frontend/src/lib/auth.ts"],"sourcesContent":["import { api } from './api';\r\n\r\nexport interface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  role: 'admin' | 'project_manager' | 'team_member';\r\n}\r\n\r\ninterface LoginResponse {\r\n  user: User;\r\n  accessToken: string;\r\n  refreshToken?: string;\r\n}\r\n\r\nexport const authAPI = {\r\n  login: async (email: string, password: string): Promise<LoginResponse> => {\r\n    const { data } = await api.post('/auth/login', { email, password });\r\n    return data;\r\n  },\r\n  register: async (payload: { name: string; email: string; password: string; }) => {\r\n    const { data } = await api.post('/auth/register', payload);\r\n    return data;\r\n  },\r\n  getProfile: async () => {\r\n    const { data } = await api.get('/auth/me');\r\n    return data;\r\n  }\r\n};\r\n\r\nexport const storeAuthData = (user: User | null, token: string | null) => {\r\n  if (user && token) {\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    localStorage.setItem('token', token);\r\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  }\r\n};\r\n\r\nexport const clearAuthData = () => {\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('token');\r\n  delete api.defaults.headers.common['Authorization'];\r\n};\r\n\r\nexport const getStoredUser = (): User | null => {\r\n  const raw = localStorage.getItem('user');\r\n  return raw ? JSON.parse(raw) as User : null;\r\n};\r\n\r\nexport const getStoredToken = (): string | null => {\r\n  return localStorage.getItem('token');\r\n};"],"mappings":"AAAA,OAASA,GAAG,KAAQ,OAAO,CAe3B,MAAO,MAAM,CAAAC,OAAO,CAAG,CACrBC,KAAK,CAAE,KAAAA,CAAOC,KAAa,CAAEC,QAAgB,GAA6B,CACxE,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAC,aAAa,CAAE,CAAEH,KAAK,CAAEC,QAAS,CAAC,CAAC,CACnE,MAAO,CAAAC,IAAI,CACb,CAAC,CACDE,QAAQ,CAAE,KAAO,CAAAC,OAA2D,EAAK,CAC/E,KAAM,CAAEH,IAAK,CAAC,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAC,gBAAgB,CAAEE,OAAO,CAAC,CAC1D,MAAO,CAAAH,IAAI,CACb,CAAC,CACDI,UAAU,CAAE,KAAAA,CAAA,GAAY,CACtB,KAAM,CAAEJ,IAAK,CAAC,CAAG,KAAM,CAAAL,GAAG,CAACU,GAAG,CAAC,UAAU,CAAC,CAC1C,MAAO,CAAAL,IAAI,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAM,aAAa,CAAGA,CAACC,IAAiB,CAAEC,KAAoB,GAAK,CACxE,GAAID,IAAI,EAAIC,KAAK,CAAE,CACjBC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC,CAClDE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,KAAK,CAAC,CACpCb,GAAG,CAACkB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaR,KAAK,CAAE,CAClE,CACF,CAAC,CAED,MAAO,MAAM,CAAAS,aAAa,CAAGA,CAAA,GAAM,CACjCR,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC,CAC/BT,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC,CAChC,MAAO,CAAAvB,GAAG,CAACkB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CACrD,CAAC,CAED,MAAO,MAAM,CAAAI,aAAa,CAAGA,CAAA,GAAmB,CAC9C,KAAM,CAAAC,GAAG,CAAGX,YAAY,CAACY,OAAO,CAAC,MAAM,CAAC,CACxC,MAAO,CAAAD,GAAG,CAAGT,IAAI,CAACW,KAAK,CAACF,GAAG,CAAC,CAAW,IAAI,CAC7C,CAAC,CAED,MAAO,MAAM,CAAAG,cAAc,CAAGA,CAAA,GAAqB,CACjD,MAAO,CAAAd,YAAY,CAACY,OAAO,CAAC,OAAO,CAAC,CACtC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}